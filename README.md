# LeHide - WordPress 内容隐藏插件

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![WordPress](https://img.shields.io/badge/WordPress-6.0%2B-blue.svg)
![PHP](https://img.shields.io/badge/PHP-7.0%2B-blue.svg)
![License](https://img.shields.io/badge/license-GPLv2-green.svg)

## 📖 插件简介

LeHide 是一款专为 WordPress 设计的公众号涨粉插件，通过隐藏内容引导用户关注您的微信公众号。插件界面美观实用，操作简单，是自媒体运营者的得力助手。

**插件官网：** [https://www.lezaiyun.com/886.html](https://www.lezaiyun.com/886.html)

**作者：** 老蒋和他的小伙伴

**公众号：** 老蒋朋友圈

---

## 插件团队和技术支持

[乐在云](https://www.lezaiyun.com/)（老蒋和他的伙伴们），本着资源共享原则，在运营网站过程中用到的或者是有需要用到的主题、插件资源，有选择的免费分享给广大的网友站长，希望能够帮助到你建站过程中提高效率。

感谢团队成员，以及网友提出的优化工具的建议，才有后续产品的不断迭代适合且满足用户需要。不能确保100%的符合兼容网站，我们也仅能做到在工作之余不断的接近和满足你的需要。

| 类目             | 信息                                                         |
| ---------------- | ------------------------------------------------------------ |
| 插件更新地址     | https://www.lezaiyun.com/792.html                            |
| 团队成员         | [老蒋](https://www.laojiang.me/)、老赵、[CNJOEL](https://www.rakvps.com/)、木村 |
| 支持网站         | 乐在云、主机评价网、老蒋玩主机                               |
| 建站资源推荐     | [便宜VPS推荐](https://www.zhujipingjia.com/pianyivps.html)、[美国VPS推荐](https://www.zhujipingjia.com/uscn2gia.html)、[外贸建站主机](https://www.zhujipingjia.com/wordpress-hosting.html)、[SSL证书推荐](https://www.zhujipingjia.com/two-ssls.html)、[WordPress主机推荐](https://www.zhujipingjia.com/wpblog-host.html) |
| 提交WP官网（是） | https://cn.wordpress.org/plugins/wpwatermark/                |

## ✨ 主要功能

### 🎯 核心特性

- **短代码内容隐藏** - 使用简单的短代码 `[lehide]...[/lehide]` 即可隐藏任意内容
- **验证码保护** - 用户需要输入正确的验证码才能查看隐藏内容
- **二维码展示** - 自动显示微信公众号二维码，引导用户关注
- **单篇文章 Cookie** - 每篇文章独立验证，互不影响
- **7天有效期** - Cookie 验证状态保存7天，提升用户体验
- **编辑器按钮** - 在 WordPress 编辑器中一键插入短代码，无需手动输入
- **响应式设计** - 完美适配PC端和移动端，界面美观大方
- **AJAX 无刷新验证** - 验证过程无需刷新页面，体验流畅

### 🛠️ 技术特点

- 符合 WordPress 编码规范
- 通过 WordPress Plugin Check 审核
- 支持 WordPress 6.0+ 和 PHP 7.0+
- 安全的数据清理和验证机制
- 优化的前端性能

---

## 📦 安装方法

### 方法一：通过 WordPress 后台安装（推荐）

1. 登录 WordPress 后台
2. 进入 **插件** → **安装插件**
3. 点击 **上传插件**
4. 选择下载的 `lehide.zip` 文件
5. 点击 **现在安装**
6. 安装完成后点击 **启用插件**

### 方法二：手动安装

1. 下载插件压缩包并解压
2. 将 `lehide` 文件夹上传到 `/wp-content/plugins/` 目录
3. 在 WordPress 后台的 **插件** 页面找到 **LeHide**
4. 点击 **启用**

---

## ⚙️ 配置说明

### 首次配置

1. 启用插件后，进入 **设置** → **LeHide设置**
2. 配置以下选项：

#### 🔧 配置项说明

**启用插件**
- 勾选此选项以启用插件功能
- 取消勾选后，所有隐藏内容将直接显示

**二维码图片**
- 上传您的微信公众号二维码图片
- 建议尺寸：150x150 像素
- 支持点击"选择图片"按钮从媒体库选择或上传新图片

**验证码**
- 设置用户需要输入的验证码
- 建议设置为容易记忆但不易猜测的字符串
- 用户关注公众号后，通过公众号获取此验证码

**模块介绍文字**
- 设置隐藏模块显示的提示文字
- 默认：`隐藏内容，扫码公众号查看，发【验证码】获验证码`
- 可根据需要自定义提示内容

3. 点击 **保存更改** 完成配置

---

## 📝 使用方法

### 方法一：使用编辑器按钮（推荐）

1. 在编辑文章或页面时，找到编辑器工具栏中的 **LeHide** 按钮
2. 点击按钮，弹出对话框
3. 输入要隐藏的内容（或选中已有文本后点击按钮）
4. 点击确定，短代码自动插入

### 方法二：手动输入短代码

在文章编辑器中直接输入以下格式：

```
[lehide]这里是需要隐藏的内容[/lehide]
```

### 短代码示例

#### 基础用法

```
[lehide]
这是一段隐藏的内容，只有输入正确验证码后才能查看。
[/lehide]
```

#### 隐藏多行内容

```
[lehide]
这是第一段隐藏内容。

这是第二段隐藏内容。

还可以包含图片、链接等HTML内容。
[/lehide]
```

#### 隐藏代码示例

```
[lehide]
<pre>
function example() {
    return "这是隐藏的代码";
}
</pre>
[/lehide]
```

---

## 🎨 工作原理

1. **用户访问文章** - 用户打开包含隐藏内容的文章
2. **显示验证界面** - 插件显示二维码和验证码输入框
3. **关注公众号** - 用户扫描二维码关注微信公众号
4. **获取验证码** - 用户在公众号中发送指定关键词获取验证码
5. **输入验证码** - 用户在文章页面输入验证码
6. **显示内容** - 验证成功后，隐藏内容自动显示
7. **保存状态** - 验证状态保存在 Cookie 中，7天内有效

### Cookie 机制说明

- **单篇文章独立** - 每篇文章的验证状态独立保存
- **7天有效期** - 验证成功后，7天内访问同一篇文章无需再次验证
- **不影响其他文章** - 不同文章的验证状态互不影响
- **自动过期** - 7天后需要重新验证

---

## 🔒 安全特性

- ✅ 所有用户输入都经过安全清理和验证
- ✅ 使用 WordPress 标准的 nonce 机制防止 CSRF 攻击
- ✅ Cookie 数据经过 sanitization 处理
- ✅ 符合 WordPress 安全编码规范
- ✅ 通过 WordPress Plugin Check 安全审核

---

## 🎯 使用场景

### 适合的场景

- ✅ 自媒体运营者需要涨粉
- ✅ 需要引导用户关注公众号
- ✅ 提供付费内容预览
- ✅ 资源下载需要验证
- ✅ 教程内容需要关注后查看
- ✅ 优惠信息需要关注获取

### 示例应用

1. **教程文章** - 隐藏完整教程内容，引导关注公众号
2. **资源下载** - 隐藏下载链接，需要关注后获取
3. **优惠活动** - 隐藏优惠码，引导关注公众号
4. **付费内容** - 隐藏部分内容，引导用户关注

---

## ❓ 常见问题

### Q1: 验证码在哪里获取？

A: 用户需要关注您的微信公众号，然后在公众号中发送您设置的验证码关键词（如"验证码"），公众号会自动回复验证码。

### Q2: Cookie 有效期是多久？

A: Cookie 验证状态保存 7 天，7 天后需要重新验证。

### Q3: 不同文章的验证状态会互相影响吗？

A: 不会。每篇文章的验证状态是独立的，互不影响。

### Q4: 插件停用后隐藏内容会显示吗？

A: 是的。如果停用插件或取消"启用插件"选项，所有隐藏内容将直接显示。

### Q5: 支持哪些 WordPress 版本？

A: 支持 WordPress 6.0 及以上版本。

### Q6: 支持哪些 PHP 版本？

A: 支持 PHP 7.0 及以上版本。

### Q7: 可以在页面中使用吗？

A: 可以。短代码可以在文章、页面和自定义文章类型中使用。

### Q8: 如何自定义样式？

A: 可以通过 WordPress 主题的 `style.css` 文件覆盖插件样式，或使用子主题进行自定义。

---

## 🔄 更新日志

### 版本 1.0.0 (2024)

**新增功能：**
- ✨ 短代码内容隐藏功能
- ✨ 验证码保护机制
- ✨ 二维码展示功能
- ✨ 单篇文章 Cookie 验证系统
- ✨ 编辑器按钮快速插入短代码
- ✨ 响应式界面设计
- ✨ AJAX 无刷新验证

**技术优化：**
- 🔧 符合 WordPress 编码规范
- 🔧 通过 WordPress Plugin Check 审核
- 🔧 完善的安全机制
- 🔧 优化的前端性能

---

## 🛠️ 技术支持

### 获取帮助

- **插件官网：** [https://www.lezaiyun.com/886.html](https://www.lezaiyun.com/886.html)
- **乐在云工作室：** [https://www.lezaiyun.com](https://www.lezaiyun.com)
- **主机评价网**：https://www.zhujipingjia.com

### 关注公众号

扫描二维码关注 **老蒋朋友圈** 公众号，获取最新插件更新和技术支持。

---

## 📄 许可证

本插件采用 [GPL v2 或更高版本](https://www.gnu.org/licenses/gpl-2.0.html) 许可证发布。

---

## 🙏 致谢

感谢所有使用和支持 LeHide 插件的用户！

如果您觉得这个插件有用，欢迎：
- ⭐ 给插件评分
- 📢 分享给其他用户
- 💬 提供反馈和建议
- 💰 [支持开发者](https://www.laojiang.me/donate/)

---

## 📞 联系我们

- **作者：** 老蒋和他的小伙伴
- **网站：** [https://www.lezaiyun.com](https://www.lezaiyun.com)

---

**最后更新：** 2026年2月1日

**插件版本：** 1.0.0
